require=function t(o,n,e){function i(s,r){if(!n[s]){if(!o[s]){var a="function"==typeof require&&require;if(!r&&a)return a(s,!0);if(c)return c(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[s]={exports:{}};o[s][0].call(h.exports,function(t){var n=o[s][1][t];return i(n?n:t)},h,h.exports,t,o,n,e)}return n[s].exports}for(var c="function"==typeof require&&require,s=0;s<e.length;s++)i(e[s]);return i}({"gate-control":[function(t,o,n){"use strict";cc._RFpush(o,"9e648EgJYtJQKXZnEnL6Nxz","gate-control"),cc.Class({"extends":cc.Component,properties:{_distance:{get:function(){return this.node.getChildByName("player-mask").width/2}},blueGatePrefab:cc.Prefab,yellowGatePrefab:cc.Prefab,_blueGate:null,_yellowGate:null},onLoad:function(){this.initGate(),cc.find("Canvas").on("mousedown",this.onMouseDown,this)},initGate:function(){this._blueGate=cc.instantiate(this.blueGatePrefab),this._yellowGate=cc.instantiate(this.yellowGatePrefab),this._blueGate.parent=this.node.parent,this._yellowGate.parent=this.node.parent,this._blueGate.position=this.node.position,this._yellowGate.position=this.node.position},onMouseDown:function(t){if(this.checkDistance(t))switch(t.getButton()){case 0:this.onLeftBtn(t);break;case 2:this.onRightBtn(t)}},onLeftBtn:function(t){this._blueGate.position=this.node.parent.convertToNodeSpaceAR(t.getLocation())},onRightBtn:function(t){this._yellowGate.position=this.node.parent.convertToNodeSpaceAR(t.getLocation())},checkDistance:function(t){var o=this.node.convertToNodeSpaceAR(t.getLocation()).mag();return this._distance>=o}}),cc._RFpop()},{}],"gate-script":[function(t,o,n){"use strict";cc._RFpush(o,"83feadkZPlB570JP18Ghjwo","gate-script");var e=cc.Enum({yellow:-1,blue:-1});cc.Class({"extends":cc.Component,properties:{gate:{"default":e.yellow,type:e},_gap:!1},onLoad:function(){var t=cc.director.getCollisionManager();t.enabled=!0,cc.find("Canvas").on("girl-touch",this.onGirlTouch,this)},onGirlTouch:function(t){this.gate!=t.detail&&(this._gap=!0,cc.find("Canvas").emit("girl-move",this.node.position))},onCollisionEnter:function(t,o){"girl"!=t.node.group||this._gap||cc.find("Canvas").emit("girl-touch",this.gate)},onCollisionExit:function(t,o){"girl"==t.node.group&&(this._gap=!1)}}),cc._RFpop()},{}],"girl-move-control":[function(t,o,n){"use strict";cc._RFpush(o,"edd56x4md5L/qQUy1LIQ3jX","girl-move-control"),cc.Class({"extends":cc.Component,properties:{initSpeed:cc.v2(0,0)},onLoad:function(){},update:function(t){this.node.position=cc.pAdd(this.node.position,cc.pMult(this.initSpeed,t))}}),cc._RFpop()},{}],"girl-transmit-script":[function(t,o,n){"use strict";cc._RFpush(o,"88e7dInkiRAcaO3W0rcSwYw","girl-transmit-script"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){cc.find("Canvas").on("girl-move",this.onGirlMove,this)},onGirlMove:function(t){this.node.position=t.detail}}),cc._RFpop()},{}],"out-script":[function(t,o,n){"use strict";cc._RFpush(o,"6bb5b2Y5NdILYUXdwRx3sJn","out-script"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var t=cc.director.getCollisionManager();t.enabled=!0},onCollisionEnter:function(t,o){"girl"==t.node.group&&cc.find("Canvas").emit("girl-touch-out")}}),cc._RFpop()},{}],"player-move-control":[function(t,o,n){"use strict";cc._RFpush(o,"bbc84zw5WNLIbkahyzuWcJx","player-move-control"),cc.Class({"extends":cc.Component,properties:{_left:!1,_right:!1,_up:!1,_down:!1,_leftBlock:0,_rightBlock:0,_upBlock:0,_downBlock:0,moveSpeed:5},onLoad:function(){var t=cc.director.getCollisionManager();t.enabled=!0,cc.systemEvent.on("keydown",this.onKeyDown,this),cc.systemEvent.on("keyup",this.onKeyUp,this)},onKeyDown:function(t){switch(t.keyCode){case cc.KEY.w:this._up=!0;break;case cc.KEY.s:this._down=!0;break;case cc.KEY.a:this._left=!0;break;case cc.KEY.d:this._right=!0}},onKeyUp:function(t){switch(t.keyCode){case cc.KEY.w:this._up=!1;break;case cc.KEY.s:this._down=!1;break;case cc.KEY.a:this._left=!1;break;case cc.KEY.d:this._right=!1}},onCollisionEnter:function(t,o){if("wall"==t.node.group){var n=[],e=o.world.aabb,i=t.world.aabb,c=o.world.preAabb,s=t.world.preAabb;c.xMin>=s.xMax&&e.xMin<=i.xMax&&(this.node.x=this.node.x+Math.abs(e.xMin-i.xMax),n.push("_leftBlock"),this._leftBlock++),c.xMax<=s.xMin&&e.xMax>=i.xMin&&(this.node.x=this.node.x-Math.abs(e.xMax-i.xMin),n.push("_rightBlock"),this._rightBlock++),c.yMin>=s.yMax&&e.yMin<=i.yMax&&(this.node.y=this.node.y+Math.abs(e.yMin-i.yMax),n.push("_downBlock"),this._downBlock++),c.yMax<=s.yMin&&e.yMax>=i.yMin&&(this.node.y=this.node.y-Math.abs(e.yMax-i.yMin),n.push("_upBlock"),this._upBlock++),void 0==t.blockArray&&(t.blockArray=[]),t.blockArray[o.node.uuid]=n}},onCollisionExit:function(t,o){if("wall"==t.node.group&&void 0!=t.blockArray){var n=!0,e=!1,i=void 0;try{for(var c,s=t.blockArray[o.node.uuid][Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var r=c.value;this[r]--}}catch(a){e=!0,i=a}finally{try{!n&&s["return"]&&s["return"]()}finally{if(e)throw i}}}},update:function(t){this._left&&!this._leftBlock&&(this.node.x-=this.moveSpeed),this._right&&!this._rightBlock&&(this.node.x+=this.moveSpeed),this._up&&!this._upBlock&&(this.node.y+=this.moveSpeed),this._down&&!this._downBlock&&(this.node.y-=this.moveSpeed)}}),cc._RFpop()},{}],"restart-script":[function(t,o,n){"use strict";cc._RFpush(o,"54d09gbHttPs58aLkniji9Q","restart-script"),cc.Class({"extends":cc.Component,properties:{_sceneLoading:!1},onLoad:function(){this.node.on("touchstart",this.onTouchStart,this)},onTouchStart:function(){this._sceneLoading||(this._sceneLoading=!0,cc.director.loadScene("main-scene"))}}),cc._RFpop()},{}],"scene-mgr":[function(t,o,n){"use strict";cc._RFpush(o,"3ac23SFEfpOtI/tMJ6vAmJh","scene-mgr"),cc.Class({"extends":cc.Component,properties:{_sceneLoading:!1},onLoad:function(){this.node.on("girl-touch-wall",this.onGirlTouchWall,this),this.node.on("girl-touch-out",this.onGirlTouchOut,this)},onGirlTouchWall:function(){this._sceneLoading||(this._sceneLoading=!0,cc.director.loadScene("game-over-scene"))},onGirlTouchOut:function(){this._sceneLoading||(this._sceneLoading=!0,cc.director.loadScene("win-scene"))}}),cc._RFpop()},{}],"wall-script":[function(t,o,n){"use strict";cc._RFpush(o,"27538L4GJNPYKi6fWp1JLAQ","wall-script"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var t=cc.director.getCollisionManager();t.enabled=!0},onCollisionEnter:function(t,o){"girl"==t.node.group&&cc.find("Canvas").emit("girl-touch-wall")}}),cc._RFpop()},{}]},{},["gate-control","gate-script","girl-move-control","girl-transmit-script","out-script","player-move-control","restart-script","scene-mgr","wall-script"]);